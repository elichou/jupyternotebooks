{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Transformation visuelle pour reconstruction d'image corporelle"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Objectifs\n",
    "L'objectif est d'améliorer le code de network2_01.py. \n",
    "Plusieurs pistes d'amélioration sont possibles:\n",
    "1. Utiliser un produit tensoriel plutôt qu'un produit terme à terme.\n",
    "2. Différencier la cible de la main.\n",
    "3. Intégerer tf.\n",
    "4. changer la répartition des points. \n",
    "\n",
    "Je m'inspire de l'article de Memisevic, Gradient-based learning of higher-order image features et de son code gatedAutoencoder.py."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Imports et setup\n",
    "\n",
    "\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "Using TensorFlow backend.\n"
     ]
    }
   ],
   "source": [
    "from numpy import *\n",
    "from matplotlib.pylab import *\n",
    "from mpl_toolkits.mplot3d import Axes3D\n",
    "from drawnow import *\n",
    "from skimage.draw import line, line_aa\n",
    "from scipy.ndimage import gaussian_filter\n",
    "from keras.models import Model\n",
    "from keras.layers import Activation, Dense, Input, Multiply\n",
    "from keras.layers import Conv2D, Flatten, Reshape, Conv2DTranspose\n",
    "from keras.layers import Dot, Lambda, Concatenate, RepeatVector\n",
    "from keras import backend as K\n",
    "from keras.utils import plot_model \n",
    "from PIL import Image\n",
    "from keras.constraints import max_norm, non_neg\n",
    "\n",
    "import time \n",
    "import random\n",
    "import scipy\n",
    "import math\n",
    "import cv2\n",
    "import cPickle as pickle\n",
    "\n",
    "import keras\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "matplotlib.rcParams.update({'font.size':16})\n",
    "to_backup = True\n",
    "timeframe = time.strftime('%Y%m%d%H%M%S')\n",
    "L1 = 16\n",
    "L2 = 8\n",
    "L3 = 1\n",
    "\n",
    "nb_posture = 300\n",
    "nb_command = 60\n",
    "nb_joint = 3\n",
    "nb_data = nb_command*nb_posture\n",
    "img_size = 64"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Construction de la base de données"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "1. On génère n postures différentes aléatoirement, X.\n",
    "2. On génère m commandes aléatoirement, H. \n",
    "3. On applique chaque commande à chaque posture et on obtient des nouvelles postures Y."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Génération des postures initiales"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "def randrange(n , vmin, vmax):\n",
    "    return (vmax-vmin)*rand(n) + vmin "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "posture = zeros((nb_posture, 3))\n",
    "posture[:,0] = randrange(nb_posture, 0, pi)\n",
    "posture[:,1] = randrange(nb_posture, 0, pi)\n",
    "posture[:,2] =randrange(nb_posture, 0, pi)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "(300, 3)\n",
      "[2.80080382 0.69583626 0.95435066]\n"
     ]
    }
   ],
   "source": [
    "print(shape(posture))\n",
    "print(posture[0])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Génération des commandes "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [],
   "source": [
    "command = zeros((nb_command, 3))\n",
    "command[:,0] = randrange(nb_command, 0, 1) #*0.6\n",
    "command[:,1] = randrange(nb_command, 0, 1) #*0.6\n",
    "command[:,2] = randrange(nb_command, 0, 1) #*0.6"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Génération des données d'entraînement"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [],
   "source": [
    "train_data_x = zeros((nb_data, 1, 3))\n",
    "train_data_y = zeros((nb_data, 1, 3))\n",
    "train_data_h = zeros((nb_data, 1, 3))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [],
   "source": [
    "idx = 0 \n",
    "for i in range(nb_posture):\n",
    "    for j in range(nb_command):\n",
    "        train_data_x[idx] = posture[i]\n",
    "        idx = idx + 1\n",
    "\n",
    "idx = 0 \n",
    "for i in range(nb_posture):\n",
    "    for j in range(nb_command):\n",
    "        train_data_y[idx] = posture[i]  + command[j]\n",
    "        idx = idx + 1\n",
    "        \n",
    "idx = 0 \n",
    "for i in range(nb_posture):\n",
    "    for j in range(nb_command):\n",
    "        train_data_h[idx] = command[j]\n",
    "        idx = idx + 1"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "('train_data_x 0 0 ', array([2.80080382, 0.69583626, 0.95435066]))\n",
      "('train_data_h 0 0 ', array([0.10096825, 0.22404304, 0.46675509]))\n",
      "('train_data_y 0 0 ', array([2.90177207, 0.9198793 , 1.42110575]))\n",
      "y = x + h\n"
     ]
    }
   ],
   "source": [
    "print('train_data_x 0 0 ', train_data_x[0][0])\n",
    "print('train_data_h 0 0 ', train_data_h[0][0])\n",
    "print('train_data_y 0 0 ', train_data_y[0][0])\n",
    "print('y = x + h')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Génération des images associées"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [],
   "source": [
    "train_images_x = zeros((nb_data, 1, img_size, img_size ), dtype = float32)\n",
    "train_images_y = zeros((nb_data, 1, img_size, img_size ), dtype = float32)\n",
    "train_command = zeros((nb_data, 1, img_size, img_size ) , dtype = float32)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "On peut rajouter une gaussienne au bout de l'effecteur pour le mettre en évidence\n",
    "TODO"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [],
   "source": [
    "def makeGaussian(size, fwhm = 3, center=None):\n",
    "    \"\"\" Make a square gaussian kernel.\n",
    "    size is the length of a side of the square\n",
    "    fwhm is full-width-half-maximum, which\n",
    "    can be thought of as an effective radius.\n",
    "    \"\"\"\n",
    "    x = arange(0, size, 1, float)\n",
    "    y = x[:,newaxis]\n",
    "    if center is None:\n",
    "        x0 = y0 = size // 2\n",
    "    else:\n",
    "        x0 = center[0]\n",
    "        y0 = center[1]    \n",
    "    return exp(-4*log(2) * ((x-x0)**2 + (y-y0)**2) / fwhm**2)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [],
   "source": [
    "for i in range(nb_data):\n",
    "    img = zeros((img_size,img_size), dtype = uint8)\n",
    "    angle = train_data_x[i][0] \n",
    "    row1, col1 = img_size//2 + int(floor(L1*sin(angle[0]))), img_size//2 + int(floor(L1*cos(angle[0])))\n",
    "    row2, col2 =  int(floor(L2*sin(angle[1]))) + row1, col1 + int(floor(L2*cos(angle[1])))\n",
    "    row3, col3 = int(floor(L3*sin(angle[2])))+ row2, col2 +  int(floor(L3*cos(angle[2])))\n",
    "    r1, c1, val1 = line_aa(img_size//2,img_size//2,row1, col1)\n",
    "    r2, c2, val2 = line_aa(row1, col1, row2, col2)\n",
    "    r3, c3, val3 = line_aa(row2, col2, row3 , col3)\n",
    "    #r1, c1 = line(img_size//2,img_size//2,row1, col1)\n",
    "    #r2, c2 = line(row1, col1, row2, col2)\n",
    "    #r3, c3 = line(row2, col2, row3 , col3)\n",
    "    img[r1,c1] = val1 *255\n",
    "    img[r2,c2] = val2 *255\n",
    "    img[r3,c3] = val3 *255\n",
    "    train_images_x[i][0] = gaussian_filter(img , sigma = 1) / 255.\n",
    "\n",
    "for i in range(nb_data):\n",
    "    img = zeros((img_size,img_size), dtype = uint8)\n",
    "    angle = train_data_y[i][0] \n",
    "    row1, col1 = img_size//2 + int(floor(L1*sin(angle[0]))), img_size//2 + int(floor(L1*cos(angle[0])))\n",
    "    row2, col2 =  int(floor(L2*sin(angle[1]))) + row1, col1 + int(floor(L2*cos(angle[1])))\n",
    "    row3, col3 = int(floor(L3*sin(angle[2])))+ row2, col2 +  int(floor(L3*cos(angle[2])))\n",
    "    r1, c1, val1 = line_aa(img_size//2,img_size//2,row1, col1)\n",
    "    r2, c2, val2 = line_aa(row1, col1, row2, col2)\n",
    "    r3, c3, val3 = line_aa(row2, col2, row3 , col3)\n",
    "    #r1, c1 = line(img_size//2,img_size//2,row1, col1)\n",
    "    #r2, c2 = line(row1, col1, row2, col2)\n",
    "    #r3, c3 = line(row2, col2, row3 , col3)\n",
    "    img[r1,c1] = val1 *255\n",
    "    img[r2,c2] = val2 *255\n",
    "    img[r3,c3] = val3 *255\n",
    "    train_images_y[i][0] =gaussian_filter(img , sigma = 1) / 255.\n",
    "    \n",
    "for i in range(nb_data):\n",
    "    img = zeros((img_size, img_size), dtype = float32)\n",
    "    img[0][0] = train_data_h[i][0][0]\n",
    "    img[0][1] = train_data_h[i][0][1]\n",
    "    img[0][2] = train_data_h[i][0][2]\n",
    "    train_command[i][0] = img"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "('taille train_images_x', (18000, 1, 64, 64))\n",
      "('taille train_images_y', (18000, 1, 64, 64))\n",
      "('taille train_features', (18000, 2, 64, 64))\n",
      "('taille train_features_command', (18000, 3, 64, 64))\n",
      "('taille train_command', (18000, 1, 64, 64))\n"
     ]
    }
   ],
   "source": [
    "print('taille train_images_x', shape(train_images_x))\n",
    "print('taille train_images_y', shape(train_images_y))\n",
    "train_features = concatenate((train_images_x, train_images_y), 1)\n",
    "train_features_command = concatenate((train_images_x, train_images_y, train_command), 1)\n",
    "print('taille train_features', shape(train_features))\n",
    "print('taille train_features_command', shape(train_features_command))\n",
    "print('taille train_command', shape(train_command))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([[[0.20441577, 0.9577738 , 0.9639927 , ..., 0.        ,\n",
       "         0.        , 0.        ],\n",
       "        [0.        , 0.        , 0.        , ..., 0.        ,\n",
       "         0.        , 0.        ],\n",
       "        [0.        , 0.        , 0.        , ..., 0.        ,\n",
       "         0.        , 0.        ],\n",
       "        ...,\n",
       "        [0.        , 0.        , 0.        , ..., 0.        ,\n",
       "         0.        , 0.        ],\n",
       "        [0.        , 0.        , 0.        , ..., 0.        ,\n",
       "         0.        , 0.        ],\n",
       "        [0.        , 0.        , 0.        , ..., 0.        ,\n",
       "         0.        , 0.        ]]], dtype=float32)"
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "train_command[100]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Corruption des données"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "TODO"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Enregistrement des données d'entraînement"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [],
   "source": [
    "#pickle.dump(train_features, open(\"gen_data/train_features.p\", \"wb\"))\n",
    "#pickle.dump(train_images_x, open(\"gen_data/train_images_x.p\", \"wb\"))\n",
    "#pickle.dump(train_data_h, open(\"gen_data/train_data_h.p\", \"wb\"))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Exemples d'images"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.image.AxesImage at 0x7f1d0609bc10>"
      ]
     },
     "execution_count": 16,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "imshow(train_images_x[0][0])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.image.AxesImage at 0x7f1d0603a150>"
      ]
     },
     "execution_count": 17,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "imshow(train_images_y[0][0])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Factorized Gated Field Auto-encoder"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Avant le passge dans l'autoencodeur, les images sont factorisées en passant par une couche de percpetron. De même, la couche latente est factorisée.\n",
    "Les images sont de taille (128,128), on prend pour commencer 32 neurones. \n",
    "La sortie est de taille (3,1) (trois moteurs), on prend pour commencer une factorisation de taille (32,1) (synérgies motrices)."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "On a donc un encodeur, un décodeur et 3 couches de perceptrons pour les deux images et pour les commandes motrices."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "On commence par construire un auto encodeur dont les entrées sont un tenseur de taille (32,1) et de sortie (32,1), pour garder la symétrie de la structure.\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Auto-encodeur alternatif"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Au lieu de redonner la représentation fx de l'image d'entrée dans le décodeur, on donne la représentation de la posture. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "WARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.\n",
      "Instructions for updating:\n",
      "Colocations handled automatically by placer.\n",
      "(None, 100, 100)\n",
      "('out taille', (None, 1, 103))\n"
     ]
    }
   ],
   "source": [
    "input_size = 128\n",
    "input_shape = (2, input_size, input_size)\n",
    "latent_dim = 100 # plus facile pour la concaténation des outputs...\n",
    "\n",
    "# on donne en entrée des pairs d'images\n",
    "inputs_xy = Input(shape = (3, img_size, img_size, ), name = 'xy')\n",
    "\n",
    "# on sépare chacune des images\n",
    "x = Lambda(lambda x: x[:,0,:,:])(inputs_xy)\n",
    "x = Reshape((1,img_size, img_size,))(x)\n",
    "\n",
    "y = Lambda(lambda x: x[:,1,:,:])(inputs_xy)\n",
    "y = Reshape((1,img_size, img_size,))(y)\n",
    "\n",
    "# on sépare également les postures\n",
    "pos = Lambda(lambda x: x[:,2,:3,0])(inputs_xy)\n",
    "pos = Reshape((1,3,))(pos)\n",
    "\n",
    "# on factorise chacune des images\n",
    "fx = Flatten()(x)\n",
    "fx = Dense(latent_dim, activation = 'relu', name = 'latent_fx1')(fx)\n",
    "fx = Dense(latent_dim, activation = 'relu', name = 'latent_fx2')(fx)\n",
    "fx = Dense(latent_dim, activation = 'relu', name = 'latent_fx3')(fx)\n",
    "fx = Reshape((latent_dim,1,))(fx)\n",
    "\n",
    "fy = Flatten()(y)\n",
    "fy = Dense(latent_dim, activation = 'relu', name = 'latent_fy1')(fy)\n",
    "fy = Dense(latent_dim, activation = 'relu', name = 'latent_fy2')(fy)\n",
    "fy = Dense(latent_dim, activation = 'relu', name = 'latent_fy3')(fy)\n",
    "fy = Reshape((1,latent_dim,))(fy)\n",
    "\n",
    "\n",
    "# on multiplie les deux factorisations, TODO mieux si produit tensoriel\n",
    "matmul = Multiply()([fx, fy])\n",
    "print(K.int_shape(matmul))\n",
    "\n",
    "# on passe le tout dans une couche de perceptrons pour obtenir les synérgies motrices\n",
    "x = Flatten()(matmul)\n",
    "fh = Dense(latent_dim, name = 'latent_fh1')(x)\n",
    "fh = Dense(latent_dim, name = 'latent_fh2')(x)\n",
    "fh = Dense(latent_dim, name = 'latent_fh3')(x)\n",
    "fh = Dense(latent_dim, name = 'latent_fh4', kernel_constraint=  non_neg())(x)\n",
    "\n",
    "# tricks pour pouvoir passer fx et latent en outputs\n",
    "\n",
    "fh = Reshape((1,latent_dim,))(fh)\n",
    "#latent = Reshape((1,3,))(latent)\n",
    "\n",
    "out = Concatenate()([pos, fh])\n",
    "print('out taille', K.int_shape(out))\n",
    "\n",
    "encoder = Model(inputs = inputs_xy, outputs = out, name = 'encoder_alt')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "(None, 1, 100)\n",
      "(None, 100)\n",
      "(None, 100, 100)\n"
     ]
    }
   ],
   "source": [
    "latent_inputs = Input(shape = (1,3+latent_dim,), name = 'decoder_input')\n",
    "\n",
    "# on déballe la factorisation en x\n",
    "pos = Lambda(lambda x: x[:,:,:latent_dim])(latent_inputs)\n",
    "print(K.int_shape(pos))\n",
    "#pos = Reshape((3,))(pos)\n",
    "pos = Flatten()(pos)\n",
    "\n",
    "# on déballe les synérgies motrices\n",
    "inp = Lambda(lambda x: x[:,:,latent_dim:])(latent_inputs)\n",
    "inp = Flatten()(inp)\n",
    "\n",
    "# on fait passer la factorisation h dans la couche de perceptrons\n",
    "fhdec = Dense(latent_dim, name='latent_fhdec1')(inp)\n",
    "fhdec = Dense(latent_dim, name='latent_fhdec2')(fhdec)\n",
    "fhdec = Dense(latent_dim, name='latent_fhdec3')(fhdec)\n",
    "fhdec = Reshape((1,latent_dim,))(fhdec)\n",
    "\n",
    "# on fait passer la posture dans la couche de perceptrons\n",
    "fposdec = Dense(latent_dim, name='latent_fxdec1')(pos)\n",
    "fposdec = Dense(latent_dim, name='latent_fxdec2')(fposdec)\n",
    "fposdec = Dense(latent_dim, name='latent_fxdec3')(fposdec)\n",
    "fposdec = Dense(latent_dim, name='latent_fxdec4')(fposdec)\n",
    "print(K.int_shape(fposdec))\n",
    "fposdec = Reshape((latent_dim,1,))(fposdec)\n",
    "\n",
    "# on mutliplie les deux représentations\n",
    "matmuldec = Multiply()([fposdec, fhdec])\n",
    "print(K.int_shape(matmuldec))\n",
    "matmuldec = Flatten()(matmuldec)\n",
    "\n",
    "# on en déduit une factorisation \n",
    "fydec = Dense(latent_dim, name = 'latent_fydec1')(matmuldec)\n",
    "fydec = Dense(latent_dim, name = 'latent_fydec2')(fydec)\n",
    "fydec = Dense(latent_dim, name = 'latent_fydec3')(fydec)\n",
    "# on déduit l'image de départ de cette factorisation\n",
    "ydec = Dense(img_size*img_size, activation = 'relu', name = 'y_recon')(fydec)\n",
    "ydec = Reshape((1,img_size, img_size,))(ydec)\n",
    "\n",
    "\n",
    "decoder = Model(latent_inputs, outputs= ydec, name='decoder')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "_________________________________________________________________\n",
      "Layer (type)                 Output Shape              Param #   \n",
      "=================================================================\n",
      "xy (InputLayer)              (None, 3, 64, 64)         0         \n",
      "_________________________________________________________________\n",
      "encoder_alt (Model)          (None, 1, 103)            1859900   \n",
      "_________________________________________________________________\n",
      "decoder (Model)              (None, 1, 64, 64)         1494996   \n",
      "=================================================================\n",
      "Total params: 3,354,896\n",
      "Trainable params: 3,354,896\n",
      "Non-trainable params: 0\n",
      "_________________________________________________________________\n"
     ]
    }
   ],
   "source": [
    "autoencoder = Model(inputs_xy, decoder(encoder(inputs_xy)), name = \"autoencoder_alt\")\n",
    "autoencoder.summary()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "On enregistre des figures"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [],
   "source": [
    "\n",
    "plot_model(encoder, to_file='figures_autoencoder/encoder_matmul_alt.png')\n",
    "plot_model(decoder, to_file = 'figures_autoencoder/decoder_matul_alt.png')\n",
    "plot_model(autoencoder, to_file = 'figures_autoencoder/auto_encoder_matmul_alt.png')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Entraînement de l'autoencodeur"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "On entraîne le modèle sur des pairs d'images.\n",
    "On utilise une descente de gradient stochastique. \n",
    "edit: la descente de gradient stochastique n'est pas adapté ici.\n",
    "adam fonctionne bien mieux."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "WARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\n",
      "Instructions for updating:\n",
      "Use tf.cast instead.\n",
      "Train on 14400 samples, validate on 3600 samples\n",
      "Epoch 1/10\n",
      "14400/14400 [==============================] - 32s 2ms/step - loss: 8.1863e-04 - kullback_leibler_divergence: 1.1842 - acc: 0.4953 - val_loss: 4.9249e-04 - val_kullback_leibler_divergence: 0.9666 - val_acc: 0.7619\n",
      "Epoch 2/10\n",
      "14400/14400 [==============================] - 30s 2ms/step - loss: 4.2055e-04 - kullback_leibler_divergence: 0.8961 - acc: 0.7838 - val_loss: 3.7677e-04 - val_kullback_leibler_divergence: 0.8805 - val_acc: 0.7947\n",
      "Epoch 3/10\n",
      "14400/14400 [==============================] - 29s 2ms/step - loss: 3.3274e-04 - kullback_leibler_divergence: 0.8069 - acc: 0.8175 - val_loss: 3.1789e-04 - val_kullback_leibler_divergence: 0.7496 - val_acc: 0.8062\n",
      "Epoch 4/10\n",
      "14400/14400 [==============================] - 31s 2ms/step - loss: 2.7254e-04 - kullback_leibler_divergence: 0.7410 - acc: 0.8467 - val_loss: 2.6910e-04 - val_kullback_leibler_divergence: 0.7528 - val_acc: 0.8513\n",
      "Epoch 5/10\n",
      "14400/14400 [==============================] - 29s 2ms/step - loss: 2.4058e-04 - kullback_leibler_divergence: 0.6967 - acc: 0.8600 - val_loss: 2.2522e-04 - val_kullback_leibler_divergence: 0.6795 - val_acc: 0.8627\n",
      "Epoch 6/10\n",
      "14400/14400 [==============================] - 29s 2ms/step - loss: 2.1783e-04 - kullback_leibler_divergence: 0.6620 - acc: 0.8694 - val_loss: 2.1045e-04 - val_kullback_leibler_divergence: 0.6535 - val_acc: 0.8750\n",
      "Epoch 7/10\n",
      "14400/14400 [==============================] - 29s 2ms/step - loss: 1.9767e-04 - kullback_leibler_divergence: 0.6321 - acc: 0.8776 - val_loss: 2.0744e-04 - val_kullback_leibler_divergence: 0.6625 - val_acc: 0.8889\n",
      "Epoch 8/10\n",
      "14400/14400 [==============================] - 29s 2ms/step - loss: 1.8559e-04 - kullback_leibler_divergence: 0.6039 - acc: 0.8824 - val_loss: 1.8425e-04 - val_kullback_leibler_divergence: 0.6215 - val_acc: 0.8873\n",
      "Epoch 9/10\n",
      "14400/14400 [==============================] - 29s 2ms/step - loss: 1.7499e-04 - kullback_leibler_divergence: 0.5770 - acc: 0.8867 - val_loss: 1.7402e-04 - val_kullback_leibler_divergence: 0.5557 - val_acc: 0.8866\n",
      "Epoch 10/10\n",
      "14400/14400 [==============================] - 29s 2ms/step - loss: 1.6342e-04 - kullback_leibler_divergence: 0.5649 - acc: 0.8921 - val_loss: 1.6430e-04 - val_kullback_leibler_divergence: 0.5489 - val_acc: 0.8966\n"
     ]
    }
   ],
   "source": [
    "sgd = keras.optimizers.SGD(lr = 0.1, momentum = 0.2)\n",
    "\n",
    "autoencoder.compile(loss = 'mse', \n",
    "                    optimizer = 'adam', \n",
    "                    metrics = ['kullback_leibler_divergence', 'acc'])\n",
    "\n",
    "history = autoencoder.fit(train_features_command,\n",
    "                          train_images_y,\n",
    "                          validation_split = 0.2,\n",
    "                          epochs = 10)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Visualisation"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Plot training & validation accuracy values\n",
    "plt.plot(history.history['acc'])\n",
    "plt.plot(history.history['val_acc'])\n",
    "plt.title('Model accuracy')\n",
    "plt.ylabel('Accuracy')\n",
    "plt.xlabel('Epoch')\n",
    "plt.legend(['Train', 'Test'], loc='upper left')\n",
    "plt.show()\n",
    "\n",
    "# Plot training & validation loss values\n",
    "plt.plot(history.history['loss'])\n",
    "plt.plot(history.history['val_loss'])\n",
    "plt.title('Model loss')\n",
    "plt.ylabel('Loss')\n",
    "plt.xlabel('Epoch')\n",
    "plt.legend(['Train', 'Test'], loc='upper left')\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Décodage"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Image reconstruite"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.image.AxesImage at 0x7f1cf9292110>"
      ]
     },
     "execution_count": 24,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "x_decoded = autoencoder.predict(train_features_command)\n",
    "imshow(x_decoded[0][0])\n",
    "#imgs = concatenate([x_decoded[50][0],train_images_y[50][0], train_images_x[50][0] ])\n",
    "#Image.fromarray(imgs).save('exmple_recontr.png')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Image original"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.image.AxesImage at 0x7f1cf9364190>"
      ]
     },
     "execution_count": 25,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAQYAAAECCAYAAAAcpHkqAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADl0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uIDIuMi40LCBodHRwOi8vbWF0cGxvdGxpYi5vcmcv7US4rQAAEEZJREFUeJzt3X2w3FV9x/H3N89PxNxLwlMgQqh9gEHrTKy0oaXEjlgGAh1lRtvRimNjHceHcYQZtJ1WB8dqGes4FQVtp52CdKaAJc50bIkEOq04CkUeogaimAQikJhrngiQ5H77x+7d3d+eJXeT7N69yX2/Znb27O+c3T37u+HD+Z3fb/dEZiJJraYNugOSJh+DQVLBYJBUMBgkFQwGSQWDQVKhp8EQEWdFxB0RsSsidkfEXRGxrJfvIan/olfXMUTEPOAR4CXgL4AEbgDmAa/NzH09eSNJfTejh6/1Z8By4NcycxNARDwKPAm8D/h8D99LUh/1csTwbWBOZq5s234/QGZe3JM3ktR3vRwxnA/c3WH7BuDq8Z48K2bnHOb3sDuS2u1hZEdmLhmvXS+DYRgY6bB9JzA03pPnMJ83xpt62B1J7dblHZu7adfLYDhiEbEGWAMwh3mD7IqkFr08XTlC55HBK40kyMxbMnNFZq6YyewedkXSsehlMGygNs/Q7jzghz18H0l91stgWAtcGBHLxzZExNnAynqdpONEL4Phq8DPgLsj4sqIWE3tLMVW4OYevo+kPutZMNSvbFwFPAH8C3Ab8BSwKjP39up9JPVfT89KZOYW4K29fE1JE89vV0oqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpMK4wRARb4uIOyNic0Tsj4iNEfGZiDiprd1QRHwtInZExL6IWBcRF/Sv65L6pZsRw8eAQ8DHgbcAXwbeD9wTEdMAIiKAb9brPwi8FZgJrI+IM/vQb0l9NKOLNldk5vaWx/dHxE7gn4HfB+4FVgMrgVWZuR4gIh4AngKuAz7Uy05L6q9xRwxtoTDm+/X7pfX71cC2sVCoP28XtVHElcfaSUkT62gnHy+u3/+ofn8+8HiHdhuAZRGx4CjfR9IAHHEwRMRS4FPAusx8sL55GBjp0Hxn/X7o6LonaRC6mWNoqP+f/27gIHDNsb55RKwB1gDMYd6xvpykHul6xBARc6nNGSwHLs3Mp1uqR+g8KhhuqS9k5i2ZuSIzV8xkdrddkdRnXQVDRMwE7gBWAJdl5mNtTTZQm2dodx6wJTP3HlMvJU2obi5wmgbcBqwCrsrM73ZothZYGhEXtzxvIXBFvU7ScaSbOYYvAVcDnwb2RcSFLXVP1w8p1gIPALdGxLXUDh2uBwL4XG+7LKnfujmU+MP6/Seo/cffensvQGaOApcD9wA3Ad+gdrXkJZm5tcd9ltRn444YMvPsbl4oM3cC76nfJB3H/HalpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpEI3a1fqBBSzZzfK01rKALQ8jtmzqnWzZjbLLx9oFEd3jlSajb7wwrF3UgPjiEFSwWCQVDAYJBWcYzheTJveKMbM5p+tfX4g5s1tPmibH8gF8xrlg4ua7fadWn2Nfac2/3/x4slRqTuwIBvludubdad9Z3Gl3fRHnmyUnW84/jhikFQwGCQVPJTot5ZDAGg7DJg3r1rXOvRvPSQARk9qPj4w3HIYcHr1cGH/4mbW7z8lK3UvLznYKC84ZV+j/Oqh5yrtfuuk5uPz5m2r1C2a3jws+PxP/6BR3vX8qZV2J/+45fDEQ4njjiMGSQWDQVLBQ4k+mL5wYfPBqdXZ+gNnvKpRHlk2p1L3wunNWf79S6qHAaOnvNQoDw3vbZTPHfpFpd1rFz7TLM/dUqk7d2az7cwYbZS3HTyp0u4HLy5rlL+355xK3cPbz2yUdz3c/GzLtrxYaZcvvYSOX44YJBUMBkkFg0FSwTmGHmk99Xjg9ec2yttWVk87vnBO8xuJy895plL3ttM2NMpvmPtUpe6MGXuar5/NPP/JgZMr7R7d35wfuPW5367U/WSk2XZk54Jm35+vXvnYekXj3Oeqcx3zn232f/HTO5sVW39eaXfIU5THNUcMkgoGg6SChxI9Mm1h85Tfjguahw8XXfVwpd01i/+nUX7m4FCl7tH9ZzXKN269tFK3eaTZdu/z8xvlWdurf8K5z7ccBuwYrdQN/fzlRvmUnfubfd+zs9KOF5p1+dLLlarW05CHXmw5JTl6CJ04HDFIKhgMkgoGg6SCcww9koeax/PTX2ye4lswvXpp8IVzmt+2vGHHGZW629b9bqO85KHq65++uXnJ8Yxf7m6UY2/bacGWOYFsmSsAGG2ZHxg90Pym5ajzA2rjiEFSwWCQVPBQokdGdzeH98MbmsP7u763otLu6ku/3yi3f/sxDjRPNb7qyb2VumkbNzfKh1reS+oHRwySCgaDpIKHEj3SekXgjE3N30k8/b5zK+3+6levbJT/6TX/Wqlb/oatjfLuh8+s1C36WdsyclIfOWKQVDAYJBWOKhgi4lsRkRFxQ9v2oYj4WkTsiIh9EbEuIi7oTVclTZQjnmOIiHcAr+uwPYBvAmcDHwRGgOuB9RHxm5n59LF19fhx6BfNbysu+r/qD61u/nbLD6mcWt2NH1h2b6P8kd97Z6VuwZbmVZLTWk5X+qOr6ocjGjFExBDwd8BHO1SvBlYC78zM2zPzW/Vt04DrjrWjkibOkR5KfBZ4PDNv71C3GtiWmevHNmTmLmqjiCs7tJc0SXV9KBERFwHvosNhRN35wOMdtm8A3hURCzJzb4f6E0/Ll5LymWcrVUvvb645cdNZb6rU3bDqzkb5d16/sVK38aHfaJSXbGq+xqHt24+tr1IHXY0YImIWcDNwY2ZufIVmw9TmFdqNHXAPdaiTNAl1O2K4DpgLfLqXbx4Ra4A1AHOYN05rSRNl3GCIiGXAJ4D3ArMjovUSvNkRsQjYQ2200GlUMFy/L0YTmXkLcAvAwhjO9npJg9HNiGE5MAe4tUPdx+q311ObS3hzhzbnAVumzPxCm9G29RVmPNFcS+LMe5ZX6j656PJG+bTh6jcoD7XEcUz3ujT1VzfB8APgkg7b11MLi38ANgFrgWsi4uLMvB8gIhYCVwBf7013JU2EcYMhM38J3Ne+vXY9E5sz877647XAA8CtEXEtzQucAvhcz3osqe969u3KzByNiMuBG4GbqB1+PABckplbD/vkKaT1qsiF35tVqZv28tJGef/Jp1XqFj/RPCQZ3b0HqZ+OOhgyMzps2wm8p36TdJxyFktSwR9qmWgtV0Ue3Fa9KnJ+yyHC/NnVH2bJffuaL+FK0uozRwySCgaDpILBIKngHMMgtS0N53oRmiwcMUgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpILBIKlgMEgqdB0MEXFZRPx3ROyNiN0R8WBErGqpH4qIr0XEjojYFxHrIuKC/nRbUj91FQwR8T7gbuAh4I+Aq4F/A+bV6wP4JvAW4IPAW4GZwPqIOLP33ZbUTzPGaxARZwNfAK7NzC+0VP1nS3k1sBJYlZnr6897AHgKuA74UI/6K2kCdDNieA8wCnzlMG1WA9vGQgEgM3dRG0VceUw9lDThugmGi4AfA2+PiJ9ExMGI2BQRH2hpcz7weIfnbgCWRcSCHvRV0gTpJhjOAF4D/C3wN8CbgXuAv4+ID9fbDAMjHZ67s34/dIz9lDSBxp1joBYeJwHvzsy76tvurc89XB8RXzzaN4+INcAagDm1eUxJk0A3I4Zf1O/vadv+X8CpwOnURgudRgXD9ftOowky85bMXJGZK2Yyu4uuSJoI3QTDhnHqR+ttzu9Qdx6wJTP3HmnHJA1ON8Hwjfr9pW3b3wI8nZnPAmuBpRFx8VhlRCwErqjXSTqOdDPH8B/AeuDmiFgM/JTaBU5vBq6pt1kLPADcGhHXUjt0uB4I4HO97rSk/ho3GDIzI+Iq4DPAJ6nNJfwY+JPM/Hq9zWhEXA7cCNwEzKEWFJdk5tZ+dV5Sf0RmDroPACyM4XxjvGnQ3ZBOaOvyjocyc8V47fx2paSCwSCpYDBIKhgMkgoGg6TCpDkrERHbgc3AYmDHgLszmbg/qtwfVUe6P16dmUvGazRpgmFMRDzYzemUqcL9UeX+qOrX/vBQQlLBYJBUmIzBcMugOzDJuD+q3B9Vfdkfk26OQdLgTcYRg6QBmxTBEBFnRcQdEbGrvpjNXRGxbND96reIeFtE3BkRmyNif0RsjIjPRMRJbe2m7GI+EfGtiMiIuKFt+5TZJ4NY7GngwRAR84B7gV8H/hR4J7Ufn10fEfMH2bcJ8DHgEPBxaj9882Xg/cA9ETENpvZiPhHxDuB1HbZPmX0ysMWeMnOgN+DD1P7j+JWWbecAB4GPDrp/ff7sSzpsexeQ1Bbvgdq6HEntty3G2ryK2i9wf3HQn6GP+2YIeBZ4R/3z39BSNyX2CXA2sB/4yGHa9GVfDHzEQG2xmu9m5qaxDZn5FPC/nOCL1WTm9g6bv1+/X1q/n6qL+XwWeDwzb+9QN1X2ycAWe5oMwXC4xWrOm+C+TAZjv5v5o/r9lFvMJyIuojZy+sArNJkq+2Rgiz1NhmA43GI1U2qhmohYCnwKWJeZD9Y3T6nFfCJiFnAzcGNmbnyFZlNlnwxssadufgxWE6Ce7HdTm1u5ZpzmJ7LrgLnApwfdkUmgb4s9dfPGg3a4xWo6LlRzoomIudSOCZcDl2bm0y3VR7WYz/Gofor6E8BfArMjYlFELKpXjz2eztTZJ31b7Gk8kyEYDrdYzQ8nuC8TLiJmAncAK4DLMvOxtiZTaTGf5dR+YfxWav+gx25QO7U7AlzA1NknA1vsaTIEw1rgwohYPrahPlRayQm+WE39WoXbgFXAVZn53Q7NptJiPj8ALulwg1pYXAJsYursk8Et9jQJztXOp/bHfoza6ZXVwCPUFrZZMOj+9fmzf5n6OXrgwrbbmfU204DvAFuBt9f/kdxHbXLprEF/hgnaT+3XMUyJfUJtwaZ7qR1S/Dm1ycev1vfHu/u5Lwb+4esfbhlwJ7Ab2AP8O3D2oPs1AZ/7Z/U/cqfbX7e0Gwb+sf7HfgH4NvC6Qfd/AvdTJRim0j4BFgJfAp4DXgYeBf643/vCb1dKKkyGOQZJk4zBIKlgMEgqGAySCgaDpILBIKlgMEgqGAySCgaDpML/Ayt6ypnTBxFIAAAAAElFTkSuQmCC\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "imshow(train_images_y[0][0])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Image donnée en entrée de l'autoencodeur"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.image.AxesImage at 0x7f1cf92ce910>"
      ]
     },
     "execution_count": 26,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "imshow(train_images_x[0][0])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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bN++PW15TpgwARs2bIiUXjweR0tLizVWXV2N2bNnW2Opbmd2Gk5ERJQZfMKJiIgow1yNTQAiNzYBcDZIAHA2NiWb50knnRQaP3DggDO2detWZ8z2BJLH9SRXMnkeb8K2rauxCUDkxiZXns8++6xz+urqamcsNzfX2dgEwNnYBABf/epXI+VJRERE3YtPOBEREWWI94QTEXUdPuFERESUGXzCiYiIiIiIiIiI0ooNTkRERERERERElFZscCIiIjqGXX/99V2SblZWVpekS0REREQEsMGJiIjomOBqWPr+97+PPn36WGNjxozBmjVrkJOTY43HYjEsWLDAGmtrawttzCovLw8tb69evZwxV56dNWrUKGestLQ0crqu9QcANTU1zs7K4/F45Dzr6+sxevRoa2zRokXO+fLy8kLTDetYvV+/fs5YWJ5hCgoKQssS1gn8lClTnLHi4mJnLGx7AeH7CREREXUjpRQHDhw4cODAIQMDANWZYcGCBZ2a3zXcf//9XZJuJoeamhpnbMiQIZHnnzBhgnOeqqqqSGVduXKlM1ZQUBA6b//+/Z2x9evXR8oTgMrLyzvq/yKixo8f75w+bL3407CNnzp1qnV8cXGxmjVrVsrrM9PHOQcOHDhw4PBRHfiEExERUQ+1dOnSLkn3kksuCY3PmTPHGbv66qtD5x08eLDzKZxVq1Y556uqqgpNFwh/4mjatGmorq62xrZv344rr7wyNO1p06ZZx2/YsME5z7e//W0sXrw4NF2b9957zxnr27dv6LxvvPGGM7Zs2TJnLNFTQwcOHDjqqTalFDZv3uycPmy95OTkoKCgAEopa/zOO++0jt+9ezduu+220HK65iUiIqLuJ66TPREREXUt84QHEXUhpZT7PUMiIiLqMnzCiYiIiIiIiIiI0ooNTkRERERERERElFZscCIiIiIiIiIiorRigxMREVGGFRcXOz8DP2nSJKxduzZSuqtXr3bGcnJyUFhYGCldSiwrKyvTRSAiIiLKKDY4ERERZdju3buxe/dua2zt2rWYNGmSNRb2tTgAuPbaa52x1tZWNDU1WWPjxo0LTber5ObmdlnaYV9oq6ysTDh/fn6+dXx9fb11fFtbG9asWZNU2YLC5uvfv3/ovAsXLnTGamtrI8UA+xcR58+f75w+mXV62mmnJZwmaObMmSnPQ0RERJnBr9QRERFl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HfiVOiIiogzpyV+py8rKQltbmzMej8fR0tJijS1btgzz5s2zxioqKtDQ0BCpTGF5Hm9yc3PR3NxsjWVnZ+PQoUPdkufIkSPx9NNPW6e/4oorcO+991pjifafMNXV1Zg9e3bSeSp+pY6IiCgj2OBERESUIT25wYmop2CDExERUWawDyciIiIiIiIiIkorNjgREREREREREVFascGJiIiIiIiIiIjSig1OREREGTZu3DgUFhZaYyUlJaiqqrLGNm3ahLlz5zrTLSgoQF5enjXWp08f9OnTxxqbMGECVq9eHV7oEDk5OZHnDROLxSLFOqOrlkXE3a1QPB4/bvIM2y6Z2E+IiIio+7DBiYiIKMO2bNmCpqYma2zXrl349re/bY1ddNFFWL58uTPdffv24cCBA9ZYa2sr9u/fb41t2LAB1157bWiZp0yZ4oydc845zlhYowcQ3vDxve99zxm77777QtMFgB/96EfWRo6wBorW1lasWLEiNN2wr+rNnTvXukxKKeTn51vn6cyX9mpra52xj33sY85YS0uLszxh1qxZ44ytWLEChw8ftsb69euH1tZW57wjRoxwxmbOnBkpTyIiIupe/EodERFRhvTkr9Q9+OCDuPDCCzuM9xqUXNcXAwcOxM6dO53pXnrppc7GozFjxuCxxx6zxq688krcc889iYrtFI/HQxt6cnNz0dzcHDn9VDU0NKCioiLl+XJyckIbcgoKCrBv3z5rbMaMGVi1apU1NmnSJKxdu/aocYnWmUvYdgSAVatWYcaMGdZYXl6esxHVtW/xK3VERESZwQYnIiKiDOnJDU700ZKdnY1Dhw5luhiRsMGJiIgoM9jgRERElCFscCLqemxwIiIiygz24URERERERERERGnFBiciIiIiIiIiIkorNjgREREdw+bOneuMZWdnd0meixcv7pJ0iYiIiOijgw1OREREGXbmmWc6Y8uXL3fGzj///K4oDm666aaE05x77rnOWFVVlXV8LBaLXCZAfxnPpba2NnTevn37olevXtZYZWVl6LwDBgxwxqZMmeKMZWVlObdtcXGxc768vLzQ8oQZNGiQMzZ//vzI6bqMGDHCGRs2bFjovGHLuXr1amcsPz/fGTv99NND8yQiIqLuw07DiYiIMqQndxq+ZMkS3Hjjjd2a58iRI/H0009bY1u2bMG4ceMip33llVfinnvu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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "\n",
    "rows, cols = 10, 30\n",
    "num = rows * cols\n",
    "imgs = np.concatenate([train_images_x[:num], train_images_y[:num], x_decoded[:num]])\n",
    "imgs = imgs.reshape((rows * 3, cols, img_size, img_size))\n",
    "imgs = np.vstack(np.split(imgs, rows, axis=1))\n",
    "imgs = imgs.reshape((rows * 3, -1, img_size, img_size))\n",
    "imgs = np.vstack([np.hstack(i) for i in imgs])\n",
    "imgs = (imgs *255 ).astype(np.uint8)\n",
    "plt.figure()\n",
    "plt.axis('off')\n",
    "plt.title('Bras avant commande: top rows, '\n",
    "          'Bras apres commande: middle rows, '\n",
    "          'Reconstruction bras apres commande:  third rows')\n",
    "plt.imshow(imgs, interpolation='none', cmap='gray')\n",
    "Image.fromarray(imgs).save('reconstruction_body_image.png')\n",
    "plt.show()\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Couches intermédiaires"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(18000, 100)"
      ]
     },
     "execution_count": 28,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "\n",
    "model = encoder  # create the original model\n",
    "\n",
    "layer_name = 'latent_fh4'\n",
    "intermediate_layer_model = Model(inputs=autoencoder.input,\n",
    "                                 outputs=model.get_layer(layer_name).output)\n",
    "encoded_imgs = intermediate_layer_model.predict(train_features_command)\n",
    "\n",
    "shape(encoded_imgs)\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Les synérgies motrices."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 1440x576 with 40 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "n = 40\n",
    "plt.figure(figsize=(20, 8))\n",
    "for i in range(n):\n",
    "    ax = plt.subplot(1, n, i+1)\n",
    "    plt.imshow(encoded_imgs[i].reshape(10,  10).T)\n",
    "    plt.gray()\n",
    "    ax.get_xaxis().set_visible(False)\n",
    "    ax.get_yaxis().set_visible(False)\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Activation de neurones particuliers décodeur"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "(1, 64)\n",
      "(1, 3)\n",
      "(1, 67)\n"
     ]
    }
   ],
   "source": [
    "tmp = np.zeros((1,64))\n",
    "tmp3 = np.zeros((1,3))\n",
    "print(shape(tmp))\n",
    "tmp[0][10] = 1\n",
    "tmp2 = reshape(posture[0], (1,3))\n",
    "print(shape(tmp2))\n",
    "conc = concatenate([tmp3, tmp], 1)\n",
    "print(shape(conc))\n",
    "conc2 = reshape(conc, (1,1,67))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "metadata": {},
   "outputs": [
    {
     "ename": "ValueError",
     "evalue": "Error when checking input: expected decoder_input to have shape (1, 103) but got array with shape (1, 67)",
     "output_type": "error",
     "traceback": [
      "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[0;31mValueError\u001b[0m                                Traceback (most recent call last)",
      "\u001b[0;32m<ipython-input-31-546108faf92e>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m()\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0mtest\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mdecoder\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mpredict\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mconc2\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m",
      "\u001b[0;32m/usr/local/lib/python2.7/dist-packages/keras/engine/training.pyc\u001b[0m in \u001b[0;36mpredict\u001b[0;34m(self, x, batch_size, verbose, steps)\u001b[0m\n\u001b[1;32m   1147\u001b[0m                              'argument.')\n\u001b[1;32m   1148\u001b[0m         \u001b[0;31m# Validate user data.\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 1149\u001b[0;31m         \u001b[0mx\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0m_\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0m_\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_standardize_user_data\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mx\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   1150\u001b[0m         \u001b[0;32mif\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mstateful\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1151\u001b[0m             \u001b[0;32mif\u001b[0m \u001b[0mx\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mshape\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m>\u001b[0m \u001b[0mbatch_size\u001b[0m \u001b[0;32mand\u001b[0m \u001b[0mx\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mshape\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m%\u001b[0m \u001b[0mbatch_size\u001b[0m \u001b[0;34m!=\u001b[0m \u001b[0;36m0\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/usr/local/lib/python2.7/dist-packages/keras/engine/training.pyc\u001b[0m in \u001b[0;36m_standardize_user_data\u001b[0;34m(self, x, y, sample_weight, class_weight, check_array_lengths, batch_size)\u001b[0m\n\u001b[1;32m    749\u001b[0m             \u001b[0mfeed_input_shapes\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    750\u001b[0m             \u001b[0mcheck_batch_axis\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mFalse\u001b[0m\u001b[0;34m,\u001b[0m  \u001b[0;31m# Don't enforce the batch size.\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 751\u001b[0;31m             exception_prefix='input')\n\u001b[0m\u001b[1;32m    752\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    753\u001b[0m         \u001b[0;32mif\u001b[0m \u001b[0my\u001b[0m \u001b[0;32mis\u001b[0m \u001b[0;32mnot\u001b[0m \u001b[0mNone\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/usr/local/lib/python2.7/dist-packages/keras/engine/training_utils.pyc\u001b[0m in \u001b[0;36mstandardize_input_data\u001b[0;34m(data, names, shapes, check_batch_axis, exception_prefix)\u001b[0m\n\u001b[1;32m    136\u001b[0m                             \u001b[0;34m': expected '\u001b[0m \u001b[0;34m+\u001b[0m \u001b[0mnames\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mi\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m+\u001b[0m \u001b[0;34m' to have shape '\u001b[0m \u001b[0;34m+\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    137\u001b[0m                             \u001b[0mstr\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mshape\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;34m+\u001b[0m \u001b[0;34m' but got array with shape '\u001b[0m \u001b[0;34m+\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 138\u001b[0;31m                             str(data_shape))\n\u001b[0m\u001b[1;32m    139\u001b[0m     \u001b[0;32mreturn\u001b[0m \u001b[0mdata\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    140\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;31mValueError\u001b[0m: Error when checking input: expected decoder_input to have shape (1, 103) but got array with shape (1, 67)"
     ]
    }
   ],
   "source": [
    "test = decoder.predict(conc2)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "imshow(test[0][0])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "\n",
    "for i in range(64):\n",
    "    tmp = np.zeros((1,64))\n",
    "    tmp3 = np.zeros((1,3))\n",
    "    tmp[0][i] = 10\n",
    "    tmp2 = reshape(posture[0], (1,3))\n",
    "    conc = concatenate([tmp3, tmp], 1)\n",
    "    conc2 = reshape(conc, (1,1,67))\n",
    "    test = decoder.predict(conc2)\n",
    "    plt.figure()\n",
    "    plt.imshow(test[0][0])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Activation de neurones particulier encodeur"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "On prend un ensemble d'images avec une articulation fixe et on applique des deltas moteurs différents. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "train_images_x = zeros((nb_data, 1, img_size, img_size ), dtype = float32)\n",
    "train_images_y = zeros((nb_data, 1, img_size, img_size ), dtype = float32)\n",
    "train_data_x = zeros((nb_data, 1, 3))\n",
    "train_data_y = zeros((nb_data, 1, 3))\n",
    "\n",
    "command = zeros((nb_command, 3))\n",
    "command[:,0] = randrange(nb_command, 0, 1)*0\n",
    "command[:,1] = randrange(nb_command, 0, 1)*0.6\n",
    "command[:,2] = randrange(nb_command, 0, 1)*0\n",
    "\n",
    "idx = 0 \n",
    "for i in range(nb_posture):\n",
    "    for j in range(nb_command):\n",
    "        train_data_y[idx] = posture[0]  + command[j]\n",
    "        idx = idx + 1\n",
    "idx = 0 \n",
    "for i in range(nb_posture):\n",
    "    for j in range(nb_command):\n",
    "        train_data_x[idx] = posture[0]\n",
    "        idx = idx + 1\n",
    "\n",
    "        \n",
    "for i in range(nb_data):\n",
    "    img = zeros((img_size,img_size), dtype = uint8)\n",
    "    angle = train_data_x[i][0] \n",
    "    row1, col1 = img_size//2 + int(floor(L1*sin(angle[0]))), img_size//2 + int(floor(L1*cos(angle[0])))\n",
    "    row2, col2 =  int(floor(L2*sin(angle[1]))) + row1, col1 + int(floor(L2*cos(angle[1])))\n",
    "    row3, col3 = int(floor(L3*sin(angle[2])))+ row2, col2 +  int(floor(L3*cos(angle[2])))\n",
    "    r1, c1, val1 = line_aa(img_size//2,img_size//2,row1, col1)\n",
    "    r2, c2, val2 = line_aa(row1, col1, row2, col2)\n",
    "    r3, c3, val3 = line_aa(row2, col2, row3 , col3)\n",
    "    #r1, c1 = line(img_size//2,img_size//2,row1, col1)\n",
    "    #r2, c2 = line(row1, col1, row2, col2)\n",
    "    #r3, c3 = line(row2, col2, row3 , col3)\n",
    "    img[r1,c1] = val1 *255\n",
    "    img[r2,c2] = val2 *255\n",
    "    img[r3,c3] = val3 *255\n",
    "    train_images_x[i][0] = gaussian_filter(img , sigma = 1) / 255.\n",
    "\n",
    "for i in range(nb_data):\n",
    "    img = zeros((img_size,img_size), dtype = uint8)\n",
    "    angle = train_data_y[i][0] \n",
    "    row1, col1 = img_size//2 + int(floor(L1*sin(angle[0]))), img_size//2 + int(floor(L1*cos(angle[0])))\n",
    "    row2, col2 =  int(floor(L2*sin(angle[1]))) + row1, col1 + int(floor(L2*cos(angle[1])))\n",
    "    row3, col3 = int(floor(L3*sin(angle[2])))+ row2, col2 +  int(floor(L3*cos(angle[2])))\n",
    "    r1, c1, val1 = line_aa(img_size//2,img_size//2,row1, col1)\n",
    "    r2, c2, val2 = line_aa(row1, col1, row2, col2)\n",
    "    r3, c3, val3 = line_aa(row2, col2, row3 , col3)\n",
    "    #r1, c1 = line(img_size//2,img_size//2,row1, col1)\n",
    "    #r2, c2 = line(row1, col1, row2, col2)\n",
    "    #r3, c3 = line(row2, col2, row3 , col3)\n",
    "    img[r1,c1] = val1 *255\n",
    "    img[r2,c2] = val2 *255\n",
    "    img[r3,c3] = val3 *255\n",
    "    train_images_y[i][0] =gaussian_filter(img , sigma = 1) / 255.\n",
    "\n",
    "\n",
    "train_images_fixed_shoulder = concatenate([train_images_x, train_images_y], 1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "shape(train_images_fixed_shoulder)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "model = encoder  # create the original model\n",
    "layer_name = 'latent_fh4'\n",
    "intermediate_layer_model = Model(inputs=autoencoder.input,\n",
    "                                 outputs=model.get_layer(layer_name).output)\n",
    "intermediate_output = intermediate_layer_model.predict(train_images_fixed_shoulder)\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 2",
   "language": "python",
   "name": "python2"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 2
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython2",
   "version": "2.7.15rc1"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
